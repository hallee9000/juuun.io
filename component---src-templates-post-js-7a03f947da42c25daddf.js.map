{"version":3,"sources":["webpack:///./src/templates/post.js"],"names":["PostTemplate","render","post","this","props","data","markdownRemark","pageContext","previous","next","cover","frontmatter","withPrefix","bgImageStyle","backgroundImage","bgColor","color","demo","demoText","hasDemo","isLinkDemo","indexOf","location","title","description","excerpt","className","style","backgroundColor","date","href","target","rel","src","alt","dangerouslySetInnerHTML","__html","html","to","fields","slug","React","Component"],"mappings":"uMAMMA,G,4GACJC,OAAA,WACE,IAAMC,EAAOC,KAAKC,MAAMC,KAAKC,eAC7B,EAA2BH,KAAKC,MAAMG,YAA9BC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,KACZC,EAAQR,EAAKS,YAAYD,MAAQE,YAAW,UAAUV,EAAKS,YAAYD,OAAW,GAClFG,EAAeH,EAAQ,CAACI,gBAAgB,OAAQJ,EAAT,KAAqB,GAC5DK,EAAUb,EAAKS,YAAYK,OAAS,OAC1C,EAA2Bd,EAAKS,YAAxBM,EAAR,EAAQA,KAAMC,EAAd,EAAcA,SACRC,IAAYF,EACZG,GAAaD,GAAUF,EAAKI,QAAQ,SAAW,EACrD,OACE,kBAAC,IAAD,CAAQC,SAAUnB,KAAKC,MAAMkB,UAC3B,kBAAC,IAAD,CACEC,MAAOrB,EAAKS,YAAYY,MACxBC,YAAatB,EAAKS,YAAYa,aAAetB,EAAKuB,UAEpD,yBAAKC,UAAU,eACb,yBAAKA,UAAU,eACb,yBACEA,UAAU,oBACVC,MAAK,eAAGC,gBAAiBb,GAAYF,KAEvC,yBAAKa,UAAU,eACb,yBAAKA,UAAU,aACb,4BAAKxB,EAAKS,YAAYY,OACtB,4BAAKrB,EAAKS,YAAYkB,SAI5B,yBAAKH,UAAU,aAEXP,GACA,yBAAKO,UAAU,aACX,4BAEIN,EACA,uBAAGU,KAAMb,EAAMc,OAAO,SAASC,IAAI,uBAChCd,GAAYD,GAEf,yBAAKgB,IAAKrB,YAAWK,GAAOiB,IAAI,WAK1C,yBAAKR,UAAU,eAAeS,wBAAyB,CAAEC,OAAQlC,EAAKmC,QACtE,wBAAIX,UAAU,eAEVlB,GACA,wBAAIkB,UAAU,8BACZ,sCACA,kBAAC,IAAD,CAAMY,GAAI9B,EAAS+B,OAAOC,KAAMR,IAAI,QACjCxB,EAASG,YAAYY,QAK1Bd,GACA,wBAAIiB,UAAU,8BACZ,sCACA,kBAAC,IAAD,CAAMY,GAAI7B,EAAK8B,OAAOC,KAAMR,IAAI,QAC7BvB,EAAKE,YAAYY,a,GA5DXkB,IAAMC,YAwElB1C","file":"component---src-templates-post-js-7a03f947da42c25daddf.js","sourcesContent":["import React from \"react\"\nimport { Link, withPrefix, graphql } from \"gatsby\"\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport './post.styl'\n\nclass PostTemplate extends React.Component {\n  render() {\n    const post = this.props.data.markdownRemark\n    const { previous, next } = this.props.pageContext\n    const cover = post.frontmatter.cover ? withPrefix(`heroes/${post.frontmatter.cover}`) : ''\n    const bgImageStyle = cover ? {backgroundImage: `url(${cover})`} : {}\n    const bgColor = post.frontmatter.color || '#333'\n    const { demo, demoText } = post.frontmatter\n    const hasDemo = !!demo\n    const isLinkDemo = hasDemo ? demo.indexOf('http') > -1 : true\n    return (\n      <Layout location={this.props.location}>\n        <SEO\n          title={post.frontmatter.title}\n          description={post.frontmatter.description || post.excerpt}\n        />\n        <div className=\"layout-post\">\n          <div className=\"post-banner\">\n            <div\n              className=\"banner-background\"\n              style={{backgroundColor: bgColor, ...bgImageStyle}}\n            />\n            <div className=\"banner-text\">\n              <div className=\"container\">\n                <h1>{post.frontmatter.title}</h1>\n                <h4>{post.frontmatter.date}</h4>\n              </div>\n            </div>\n          </div>\n          <div className=\"container\">\n            {\n              hasDemo &&\n              <div className=\"post-demo\">\n                  <h3>\n                    {\n                      isLinkDemo ?\n                      <a href={demo} target='_blank' rel=\"noopener noreferrer\">\n                        {demoText || demo}\n                      </a> :\n                      <img src={withPrefix(demo)} alt=\"demo\"/>\n                    }\n                  </h3>\n              </div>\n            }\n            <div className=\"post-content\" dangerouslySetInnerHTML={{ __html: post.html }} />\n            <ul className=\"post-footer\">\n              {\n                previous &&\n                <li className=\"footer-nav footer-nav-prev\">\n                  <span>上一篇：</span>\n                  <Link to={previous.fields.slug} rel=\"prev\">\n                    {previous.frontmatter.title}\n                  </Link>\n                </li>\n              }\n              {\n                next &&\n                <li className=\"footer-nav footer-nav-next\">\n                  <span>下一篇：</span>\n                  <Link to={next.fields.slug} rel=\"next\">\n                    {next.frontmatter.title}\n                  </Link>\n                </li>\n              }\n            </ul>\n          </div>\n        </div>\n      </Layout>\n    )\n  }\n}\n\nexport default PostTemplate\n\nexport const pageQuery = graphql`\n  query BlogPostBySlug($slug: String!) {\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      id\n      excerpt(pruneLength: 160)\n      html\n      frontmatter {\n        title\n        date(formatString: \"YYYY/MM/DD\")\n        description\n        color\n        cover\n        demo\n        demoText\n      }\n    }\n  }\n`\n"],"sourceRoot":""}